{% load static %}
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TODO {% if mode == 'edit' %}修正{% else %}作成{% endif %}</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: 'Noto Sans JP', sans-serif; padding: 20px; background: #f8f9fa; }
h1 { margin-bottom: 20px; }
.submit-btn { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; }
.submit-btn:hover { background: #3399ff; }
.delete-btn { background: #dc3545; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-top: 10px; }
.delete-btn:hover { background: #ff638c; }
.back-link { display: inline-block; margin-top: 15px; color: #333; text-decoration: none; }
.back-link:hover { text-decoration: underline; }
</style>
</head>
<body>
<div class="container">
    <h1>TODO {% if mode == 'edit' %}修正{% else %}作成{% endif %}</h1>

    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="submit-btn">{% if mode == 'edit' %}更新{% else %}登録{% endif %}</button>
    </form>

    {% if mode == 'edit' %}
    <form method="post" action="{% url 'work10:delete' todo.pk %}">
        {% csrf_token %}
        <button type="submit" class="delete-btn">削除</button>
    </form>
    {% endif %}

    <p><a href="{% url 'work10:todo_list' %}" class="back-link">← 戻る</a></p>
</div>
</body>
</html>
